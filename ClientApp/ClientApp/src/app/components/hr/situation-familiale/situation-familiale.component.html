<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2>Employee Payroll Information</h2>
      
      <form [formGroup]="situationForm" (ngSubmit)="onSubmit()">
        <div class="card">
          <div class="card-body">
            <!-- Family Information Section -->
            <h4>Family Information</h4>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="etatCivil" class="form-label">Marital Status</label>
                <select class="form-select" id="etatCivil" formControlName="etatCivil">
                  <option value="">Select marital status</option>
                  <option *ngFor="let option of etatCivilOptions" [value]="option.value">
                    {{ option.label }}
                  </option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="chefDeFamille" formControlName="chefDeFamille">
                  <label class="form-check-label" for="chefDeFamille">
                    Head of Household
                  </label>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="nombreEnfants" class="form-label">Number of Children</label>
                <input type="number" class="form-control" id="nombreEnfants" formControlName="nombreEnfants" min="0">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="enfantsEtudiants" class="form-label">Student Children</label>
                <input type="number" class="form-control" id="enfantsEtudiants" formControlName="enfantsEtudiants" min="0">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="enfantsHandicapes" class="form-label">Disabled Children</label>
                <input type="number" class="form-control" id="enfantsHandicapes" formControlName="enfantsHandicapes" min="0">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="parentsACharge" class="form-label">Dependent Parents</label>
                <input type="number" class="form-control" id="parentsACharge" formControlName="parentsACharge" min="0">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="conjointACharge" formControlName="conjointACharge">
                  <label class="form-check-label" for="conjointACharge">
                    Dependent Spouse
                  </label>
                </div>
              </div>
            </div>

            <!-- Salary Information Section -->
            <h4 class="mt-4">Salary Information</h4>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="salaireBase" class="form-label">Base Salary (DT)</label>
                <input type="number" class="form-control" id="salaireBase" formControlName="salaireBase" min="0" step="0.001">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="primePresence" class="form-label">Attendance Bonus (DT)</label>
                <input type="number" class="form-control" id="primePresence" formControlName="primePresence" min="0" step="0.001">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="primeProduction" class="form-label">Production Bonus (DT)</label>
                <input type="number" class="form-control" id="primeProduction" formControlName="primeProduction" min="0" step="0.001">
              </div>
            </div>

            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-primary" [disabled]="situationForm.invalid">
                {{ isEditing ? 'Update' : 'Save' }}
              </button>
              <button type="button" class="btn btn-secondary" (click)="resetForm()" *ngIf="isEditing">
                Reset
              </button>
              <button type="button" class="btn btn-info" (click)="refreshData()">
                Refresh
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>