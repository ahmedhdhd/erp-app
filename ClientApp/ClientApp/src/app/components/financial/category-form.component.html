<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>{{ isEditMode ? 'Modifier Catégorie' : 'Nouvelle Catégorie' }}</h2>
  </div>

  <div class="card">
    <div class="card-body">
      <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="nom" class="form-label">Nom *</label>
              <input type="text" class="form-control" id="nom" formControlName="nom" 
                     [class.is-invalid]="submitted && f['nom'].errors">
              <div class="invalid-feedback" *ngIf="submitted && f['nom'].errors">
                Le nom est requis
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="mb-3">
              <label for="type" class="form-label">Type *</label>
              <select class="form-select" id="type" formControlName="type" [class.is-invalid]="submitted && f['type'].errors">
                <option value="">Sélectionner un type</option>
                <option value="Income">Revenu</option>
                <option value="Expense">Dépense</option>
              </select>
              <div class="invalid-feedback" *ngIf="submitted && f['type'].errors">
                Le type est requis
              </div>
            </div>
          </div>
        </div>
        
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" formControlName="description" rows="3"></textarea>
        </div>
        
        <div class="mb-3">
          <label for="parentCategoryId" class="form-label">Catégorie Parente</label>
          <select class="form-select" id="parentCategoryId" formControlName="parentCategoryId">
            <option value="">Aucune catégorie parente</option>
            <option *ngFor="let category of categories" [value]="category.id">
              {{ category.nom }}
            </option>
          </select>
        </div>
        
        <div class="d-flex justify-content-end">
          <button type="button" class="btn btn-secondary me-2" (click)="onCancel()" [disabled]="loading">
            Annuler
          </button>
          <button type="submit" class="btn btn-primary" [disabled]="loading">
            <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
            {{ isEditMode ? 'Mettre à jour' : 'Créer' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>