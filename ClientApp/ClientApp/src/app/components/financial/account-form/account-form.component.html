<div class="container mt-3">
  <div class="row">
    <div class="col-md-8">
      <h3>{{ isEditMode ? 'Edit Account' : 'Create Account' }}</h3>
      
      <form [formGroup]="accountForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="code" class="form-label">Account Code *</label>
              <input type="text" class="form-control" id="code" formControlName="code" 
                     [class.is-invalid]="accountForm.get('code')?.invalid && accountForm.get('code')?.touched">
              <div class="invalid-feedback" *ngIf="accountForm.get('code')?.invalid && accountForm.get('code')?.touched">
                Account code is required and must be less than 20 characters.
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="mb-3">
              <label for="type" class="form-label">Account Type *</label>
              <select class="form-select" id="type" formControlName="type"
                      [class.is-invalid]="accountForm.get('type')?.invalid && accountForm.get('type')?.touched">
                <option value="">Select Type</option>
                <option *ngFor="let type of accountTypes" [value]="type.value">{{ type.label }}</option>
              </select>
              <div class="invalid-feedback" *ngIf="accountForm.get('type')?.invalid && accountForm.get('type')?.touched">
                Account type is required.
              </div>
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label for="name" class="form-label">Account Name *</label>
          <input type="text" class="form-control" id="name" formControlName="name"
                 [class.is-invalid]="accountForm.get('name')?.invalid && accountForm.get('name')?.touched">
          <div class="invalid-feedback" *ngIf="accountForm.get('name')?.invalid && accountForm.get('name')?.touched">
            Account name is required and must be less than 200 characters.
          </div>
        </div>

        <div class="mb-3">
          <label for="parentId" class="form-label">Parent Account</label>
          <select class="form-select" id="parentId" formControlName="parentId">
            <option value="">No Parent</option>
            <option *ngFor="let account of parentAccounts" [value]="account.id">
              {{ account.code }} - {{ account.name }}
            </option>
          </select>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" formControlName="description" rows="3"></textarea>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary" [disabled]="accountForm.invalid">
            {{ isEditMode ? 'Update' : 'Create' }} Account
          </button>
          <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
